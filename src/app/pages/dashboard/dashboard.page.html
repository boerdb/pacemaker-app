<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-title>
      <div style="font-size: 0.8rem; opacity: 0.7;">CONNECTED TO:</div>
      {{ deviceInfo.model }}
    </ion-title>
    <ion-buttons slot="end">
      <ion-button routerLink="/settings" color="medium">
        <ion-icon slot="icon-only" name="settings"></ion-icon>
      </ion-button>

      <ion-button color="success">
        <ion-icon slot="icon-only" name="wifi"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <div class="pm-card" style="border-left: 4px solid var(--ion-color-success); background: linear-gradient(145deg, #1e1e1e 0%, #252525 100%);">
    <div class="pm-row" style="border-bottom: 1px solid rgba(255,255,255,0.05)">
      <span class="pm-label">Battery Status</span>
      <ion-icon name="battery-charging" color="success"></ion-icon>
    </div>
    <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-top: 10px;">
      <div>
        <div style="font-size: 2rem; font-weight: bold; line-height: 1;">{{ batteryStatus.voltage }} <span style="font-size: 1rem; color:gray">V</span></div>
        <div class="text-subtle" style="margin-top: 4px;">Est. longevity: {{ batteryStatus.eol }}</div>
      </div>
      <div style="text-align: right;">
        <span class="pm-label">Current Mode</span>
        <div style="font-size: 1.5rem; font-weight: 800; color: var(--ion-color-primary);">{{ deviceInfo.mode }}</div>
      </div>
    </div>
  </div>

  <div class="section-title">Lead I (Ventricular) Status</div>

  <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px;">
    <div class="pm-card" style="text-align: center; padding: 12px 5px;">
      <span class="pm-label" style="font-size: 0.65rem;">Imp (Î©)</span>
      <div style="font-size: 1.2rem; font-weight: bold; margin-top: 5px;">{{ leadStatus.impedance }}</div>
      <div style="font-size: 0.7rem; color: var(--ion-color-success);">NORMAL</div>
    </div>

    <div class="pm-card" style="text-align: center; padding: 12px 5px;">
      <span class="pm-label" style="font-size: 0.65rem;">Sense (mV)</span>
      <div style="font-size: 1.2rem; font-weight: bold; margin-top: 5px;">{{ leadStatus.sensing }}</div>
      <div style="font-size: 0.7rem; color: var(--ion-color-success);">STABLE</div>
    </div>

    <div class="pm-card" style="text-align: center; padding: 12px 5px;">
      <span class="pm-label" style="font-size: 0.65rem;">Thr (V)</span>
      <div style="font-size: 1.2rem; font-weight: bold; margin-top: 5px;">{{ leadStatus.threshold }}</div>
      <div style="font-size: 0.7rem; color: var(--ion-color-medium);">@ 0.4ms</div>
    </div>
  </div>

  <div class="section-title">Programmer & Settings</div>

  <div class="pm-card-interactive" routerLink="/simulation" style="margin-bottom: 12px;">
    <div style="display: flex; align-items: center;">
      <div style="background: rgba(47, 223, 117, 0.15); padding: 12px; border-radius: 12px; margin-right: 15px;">
        <ion-icon name="pulse" color="success" style="font-size: 24px;"></ion-icon>
      </div>
      <div>
        <div style="font-weight: bold; font-size: 1.05rem;">Simulator & Tests</div>
        <div class="text-subtle" style="font-size: 0.85rem;">Threshold test, VVI simulatie</div>
      </div>
      <ion-icon name="chevron-forward" slot="end" style="margin-left: auto; opacity: 0.3;"></ion-icon>
    </div>
  </div>

  <div class="pm-card-interactive" routerLink="/pm-skill-lab" style="margin-bottom: 12px;">
  <div style="display: flex; align-items: center;">
    <div style="background: rgba(255, 196, 9, 0.15); padding: 12px; border-radius: 12px; margin-right: 15px;">
      <ion-icon name="school" color="warning" style="font-size: 24px;"></ion-icon>
    </div>
    <div>
      <div style="font-weight: bold; font-size: 1.05rem;">Pacemaster Skill Lab</div>
      <div class="text-subtle" style="font-size: 0.85rem;">
        Capture & sensing training scenarios
      </div>
    </div>
    <ion-icon name="chevron-forward" slot="end" style="margin-left: auto; opacity: 0.3;"></ion-icon>
  </div>
</div>


  <div class="pm-card-interactive" routerLink="/modes/mode-list">
    <div style="display: flex; align-items: center;">
      <div style="background: rgba(56, 128, 255, 0.15); padding: 12px; border-radius: 12px; margin-right: 15px;">
        <ion-icon name="medkit" color="primary" style="font-size: 24px;"></ion-icon>
      </div>
      <div>
        <div style="font-weight: bold; font-size: 1.05rem;">Pacemaker Modes</div>
        <div class="text-subtle" style="font-size: 0.85rem;">VVI, DDD, AAI Encyclopedia</div>
      </div>
      <ion-icon name="chevron-forward" slot="end" style="margin-left: auto; opacity: 0.3;"></ion-icon>
    </div>
  </div>

</ion-content>
